<div class="flex flex-col">
  @if (devices$ | async; as devices) {
    @if (devices.length === 0) {
      <p>ビデオデバイスがありません</p>
    } @else {
      <mat-form-field>
        <mat-label>ビデオデバイスを選択してください</mat-label>
        <mat-select [formControl]="deviceFc">
          @for (device of devices; let i = $index; track $index) {
            <mat-option
              [value]="device"
              >{{ device.label ? device.label : `Camera ${i + 1}`}}</mat-option
            >
          }
        </mat-select>
      </mat-form-field>
    }
  }

  <video #video autoplay muted playsinline class="flex-grow w-full"></video>
</div>
